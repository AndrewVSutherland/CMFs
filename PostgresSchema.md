Spaces
======

Table name: `mf_newspaces`.

This table represents spaces `S_k^{new}(N, \chi)`.  We pick one representative `\chi` from each Galois orbit.

Column | Type | Notes
-------|------|------
label | text | (N.k.i)
level | integer | (N)
weight | smallint | (k)
odd_weight | bool | whether k is odd
char_orbit | integer | (i) Index in the list of traces down to Q of the values of all characters of modulus N, starting at 1.  This is encoded into i in the label via 1=a, 2=b, 26=z, 27=ba, 28=bb.  Note the shift: the letter is the Cremona code for i-1.
conrey_labels | jsonb | Sorted list of Conrey indexes of characters in this Galois orbit
char_conductor | integer | Conductor of the Dirichlet character
prim_orbit | integer | char_orbit for the primitive version of this character
cyc_degree | integer | Degree of the cyclotomic field generated by the values of the character
parity | smallint | 1 or -1, depending on the parity of the character
sturm_bound | integer |
dim | integer | Q-dimension of this newspace
eis_dim | integer | Q-dimension of the eisenstein subspace of the corresponding `M_k(N, \chi)`
eis_new_dim | integer | Q-dimension of the new eisenstein subspace of the corresponding `M_k(N, \chi)`
cusp_dim | integer | Q-dimension of the cuspidal space `S_k(N, \chi)`
mf_dim | integer | Q-dimension of `M_k(N, \chi)`
hecke_orbit_dims | jsonb | Sorted list of dimensions of Hecke orbits

Table name: `mf_oldsubs`.

This table represents embeddings of oldspaces into cusp spaces.

Column | Type | Notes
-------|------|------
space_label | text | The label for the modular form space `S_k(N, \chi)`
new_label | text | The label for the newspace `S_k^{new}(M, [\psi])` that embeds
new_minimal_conrey | integer | the minimal Conrey index for the newspace (giving `\psi`)

Hecke orbits
============

Table name: `mf_newforms`

Column | Type | Notes
-------|------|------
label |  text | (N.k.i.x)
space_label | text | (N.k.i)
level | integer | (N)
weight | smallint | (k)
odd_weight | bool | whether k is odd
char_orbit | integer | (i) As above
char_conductor | integer | Conductor of the Dirichlet character
prim_orbit | integer | char_orbit for the primitive version of this character
char_order | integer | the order of the character
conrey_labels | jsonb | Sorted list of Conrey indexes of characters in this Galois orbit
hecke_orbit | integer | (X) An integer that is encoded into x in the label via 1=a, 2=b, 26=z, 27=ba, 28=bb.  Note the shift: the letter is the Cremona code for X-1.
hecke_orbit_code | bigint | encoding of the tuple (N.k.i.x) into 64 bits, used in eigenvalue tables.  N + (k<<24) + ((i-1)<<36) + ((X-1)<<52).
dim | integer | the dimension of this Hecke orbit
field_poly | jsonb | list of integers giving defining polynomial for the Hecke field (standard Sage order of coefficients)
is_polredabs | bool | whether the polynomial has been reduced by Pari's `polredabs`
nf_label | text | LMFDB label for the corresponding number field (can be NULL)
hecke_ring_numerators | jsonb | List of lists of integers, giving the numerators of a basis for the Hecke order in terms of the field generator specified by the field polynomial
hecke_ring_denominators | jsonb | List of integers, giving the denominators of the basis
hecke_ring_index | jsonb | (a divisor of) the index of the order generated by the Hecke eigenvalues in the maximal order.  Stored as its factorization, as a list of pairs [p,e].
hecke_ring_index_proven | bool | whether the index has been proven correct (computing the maximal order may not be possible)
trace_hash | bigint | appropriate linear combination of the a_p between 2^12 and 2^13
qexp_prec | smallint | n so that q-expansion is known to precision O(q^n).
embeddings | jsonb | list of pairs (x,y), giving an ordering of the complex roots x+iy of the field poly that define the embedding enumeration (corresponding to the lexicographic ordering of chi, n in the L-function labels)
char_values | jsonb | list of pairs [p, L] where p ranges over primes less than qexp_prec not dividing the level and L is a list of integers c so that chi(p) = e^{2 pi i c/d}, with d=char_order and chi ranging over the characters making up this Galois orbit.
isogeny_class_label | text | the isogeny class label of the corresponding elliptic curve or modular abelian variety (could be null if not yet in the database)
analytic_rank | smallint |
is_cm | bool |
cm_disc | smallint | The (negative) discriminant of the order by which we have CM (0 if no CM)
cm_hecke_char | text | label for the Hecke character giving the CM
cm_proved | bool | Whether the CM columns are proven correct
has_inner_twist | smallint | whether there is an inner twist.  1=yes, -1=no, 0=unknown
is_twist_minimal | bool |
inner_twist | jsonb | List of integers giving the char_orbit values for the nontrivial Dirichlet characters that give inner twists
atkin_lehner_eigenvals | jsonb | a list of pairs [p, ev] where ev is 1 or -1, the Atkin-Lehner eigenvalue for each p dividing N (NULL overall if nontrivial character)
hecke_cutters | jsonb | a list of pairs [p, F_p] where F_p is a list of integers encoding a polynomial; the intersection of the kernels of F_p(T_p) is this Hecke orbit
qexp_display | text | latexed string for display on search page results
trace_display | jsonb | list of the first four a_n traces for display on search page results

Hecke eigenvalues
=================

Table name: `mf_hecke_nf`

Column | Type | Notes
-------|------|------
hecke_orbit_code | bigint | encoding of the tuple (N.k.i.x) into 64 bits
n | integer |
an | jsonb | list of integers, giving the Hecke eigenvalue as a linear combination of the basis specified in the orbit table
trace_an | numeric | trace of a_n down to Z

Table name: `mf_hecke_cc`

Column | Type | Notes
-------|------|------
hecke_orbit_code | bigint | encoding of the tuple (N.k.i.x) into 64 bits
embedding | integer | enumeration of which embedding (shows up in L-function link), corresponding to the embeddings list in the orbit table
an | jsonb | list of pairs [x,y] of doubles x, y so that `a_n = x + iy`
angles | jsonb | list of pairs [p, `\theta_p`] where `a_p = p^{(k-1)/2} (e^{2\pi i \theta_p} + chi(p)e^{-2\pi i \theta_p})`; it will range over good primes p, with `\theta_p` between -0.5 and 0.5

Dirichlet characters
====================

Table name: `char_dir_orbits`

Column | Type | Notes
-------|------|------
orbit_label | text | (N.i)
orbit_index | smallint | (i) Index in the list of traces down to Q of the values of all characters of modulus N
modulus | smallint
conductor | smallint
order | smallint
parity | smallint
galois_orbit | jsonb | sorted list of conrey_labels in the same galois orbit
is_real | boolean | if quadratic or trivial
is_primitive | boolean | if modulus = conductor
cyc_degree | smallint | degree of the cyclotomic field containing the image, ie Euler phi of the order; this is the same as the size of the Galois orbit

Table name: `char_dir_values`

Note that the values in this table are stored as integers m so that the actual value is `e^{2\pi i m/d}` where `d` is the `order`.

Column | Type | Notes
-------|------|------
label | text | N.n where N is the modulus and n is the conrey label
orbit_label | text | N.i where N is the modulus and i is the orbit_index
prim_label | text | the label of primitive character inducing this one
order | smallint
values | jsonb | list of the first twelve values on -1,1, then the next ten integers relatively prime to the modulus
values_gens | jsonb | list of pairs [n, chi(n)] for n generating the unit group
